# thinker

Итеративный философский мыслитель на базе [Claude CLI](https://docs.anthropic.com/en/docs/claude-cli).

Запускает Claude в диалектическом цикле: сформулируй тезис, атакуй его сильнейшими контраргументами, найди скрытые ошибки в логике, повтори. Цель — получить нетривиальный, глубоко проработанный ответ на сложный вопрос через итеративное самокритичное мышление.

## Как работает

На каждой итерации Claude получает полную траекторию предыдущих рассуждений и должен:

1. **Атаковать** предыдущую позицию — найти слабое звено
2. **Следовать** направлению, которое сам назвал перспективным
3. **Сменить** перспективу — другая философская традиция, дисциплина, эпоха
4. **Найти** скрытую структуру — ложные дихотомии, схлопнутые различия
5. **Поднять** ставки — что изменится на практике, если тезис неверен?

Структурированный JSON на каждом шаге: тезис, рассуждение, контраргументы, инсайты, уверенность и направление следующей итерации.

## Установка

Python 3.12+ и [Claude CLI](https://docs.anthropic.com/en/docs/claude-cli).

```bash
uv sync
```

## Использование

```bash
# Новый вопрос, 5 итераций по умолчанию
thinker "Что есть истина?"

# Больше итераций
thinker "Что будет с человечеством после AGI?" -n 20

# Продолжить думать над существующей сессией (1 итерация по умолчанию)
thinker -c thinker-что-есть-истина-20260212-210508.json

# Продолжить с несколькими итерациями
thinker -c session.json -n 10

# Указать модель и файл вывода
thinker "Свободна ли воля?" -n 10 -m claude-sonnet-4-5-20250929 -o freewill.json
```

## Вывод

Каждая итерация печатается в терминал и сохраняется в JSON после каждого шага (crash-safe). В файле — полная история, стоимость и токены по каждой итерации.

```
================================================================================
  ITERATION 3  |  confidence: 0.65  |  $0.0312  |  45.2s
================================================================================

THESIS:
...

REASONING:
...

COUNTER-ARGUMENTS:
  1. ...
  2. ...

NEW INSIGHTS:
  1. ...

NEXT DIRECTION:
...
```

## Стоимость

Одна итерация — примерно $0.01–0.05 в зависимости от модели и длины истории. 50 итераций на Opus — ~$25.
